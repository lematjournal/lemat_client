<div class="container" ng-controller="PieceAdminController as vm" ng-init="vm.getPiece()">
   <div class="form-group">
      <label for="name">Title</label>
      <input type="text" ng-model="vm.piece.title" id="title" class="form-control" placeholder="title" required>
   </div>
   <div class="form-group">
      <label for="type">Type</label>
      <input type="text" ng-model="vm.piece.piece_type" id="type" class="form-control" placeholder="type" required>
   </div>
   <div class="form-group" ng-controller="UserController as user" ng-init="user.getUsers()">
      <label for="user">Author(s):</label>
      <font ng-repeat="user in vm.piece.users"><span ng-show="!$first && !$last">, </span><span ng-show="$last && !$first"> and </span>{{ ::user.username }}<a ng-click="vm.removeUser(user.id)"><span class="glyphicon glyphicon-remove"></span></a></font>
      <div class="input-group">
         <span class="input-group-addon" id="user-addon"><a ng-click="openUserModal()">Create user</a></span>
         <angucomplete-alt id="authors" placeholder="Search contributing authors" pause="100" selected-object="selectedUser" local-data="user.users" search-fields="username" title-field="username" minlength="1" input-class="form-control" initial-value="vm.piece.author" aria-describedby="user-addon" />
      </div>
   </div>
   <div class="form-group">
      <wysiwyg textarea-id="question" textarea-class="form-control" textarea-height="400px" textarea-name="textareaQuestion" textarea-required ng-model="vm.piece.content"></wysiwyg>
   </div>
   <a class="btn btn-default" ng-click="vm.upsertPiece(piece)">Submit</a>
   <a class="btn btn-default" ng-click="vm.deletePiece()"><i class="glyphicon glyphicon-trash"></i></a>
</div>